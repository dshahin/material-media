"use strict";function DataFactory(t,e){function o(){var e=t.defer(),o=angular.fromJson(localStorage.getItem(i));return o||(o={debug:!0,bookmarks:{}}),e.resolve(o),e.promise}function a(){localStorage.setItem(i,angular.toJson(e.userSettings))}function r(){{var e=t.defer();angular.fromJson(localStorage.getItem("tasks"))}return e.resolve([{id:"0",title:"AngularJS",url:"https://angularjs.org/",description:"HTML enhanced for web apps!",logo:"angular.png",fave:!0},{id:"1",title:"BrowserSync",url:"http://browsersync.io/",description:"Time-saving synchronised browser testing.",logo:"browsersync.png",fave:!1},{id:"2",title:"GulpJS",url:"http://gulpjs.com/",description:"The streaming build system.",logo:"gulp.png",fave:!0}]),e.promise}var i="md-media-shahin-settings",s={Videos:r,getUserSettings:o,setUserSettings:a};return s}angular.module("materialMedia",["ngAnimate","ngTouch","ngSanitize","ui.router","ngMaterial","ngMdIcons","com.2fdevs.videogular","com.2fdevs.videogular.plugins.buffering","com.2fdevs.videogular.plugins.controls","com.2fdevs.videogular.plugins.overlayplay","com.2fdevs.videogular.plugins.poster"]).config(["$stateProvider","$urlRouterProvider","$mdThemingProvider","$mdIconProvider",function(t,e,o,a){o.theme("default").primaryPalette("light-green").accentPalette("green").warnPalette("red"),a.defaultIconSet("./assets/svg/avatars.svg",128).icon("menu","./assets/svg/menu.svg",24).icon("share","./assets/svg/share.svg",24).icon("google_plus","./assets/svg/google_plus.svg",512).icon("hangouts","./assets/svg/hangouts.svg",512).icon("twitter","./assets/svg/twitter.svg",512).icon("phone","./assets/svg/phone.svg",512),t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",icon:"home"}).state("watch",{url:"/watch/:videoId",templateUrl:"app/watch/watch.html",controller:"WatchController as WC",icon:"arrow_back"}),e.otherwise("/")}]),angular.module("materialMedia").controller("NavbarCtrl",["$scope","$state",function(t,e){t.date=new Date,t.$state=e,console.log("state",e)}]),angular.module("materialMedia").factory("DataFactory",DataFactory),DataFactory.$inject=["$q","$rootScope","$log"],angular.module("materialMedia").controller("WatchController",["$log","$scope","$rootScope","$mdDialog","$sce","$stateParams","DataFactory",function(t,e,o,a,r,i,s){function n(){l("foo")}var c=this;c.videoId=i.videoId,o.videoId=c.videoId,o.API=null,c.onPlayerReady=function(t){o.API=t},s.Videos().then(function(t){o.videos=t}).then(function(){s.getUserSettings().then(function(t){o.userSettings=t,t.bookmarks[c.videoId]&&t.bookmarks[c.videoId].length||(t.bookmarks[c.videoId]=[]),o.bookmarks=t.bookmarks[c.videoId],t.debug=!t.debug,s.setUserSettings()})}),c.deleteBookmark=function(e){t.log("delete "+e),o.bookmarks.splice(e,1),s.setUserSettings()},c.onBookmarkChange=function(){s.setUserSettings()},c.config={preload:"none",sources:[{src:r.trustAsResourceUrl("http://static.videogular.com/assets/videos/big_buck_bunny_720p_h264.mov"),type:"video/mp4"},{src:r.trustAsResourceUrl("http://static.videogular.com/assets/videos/big_buck_bunny_720p_stereo.ogg"),type:"video/ogg"}],tracks:[{src:"http://www.videogular.com/assets/subs/pale-blue-dot.vtt",kind:"subtitles",srclang:"en",label:"English","default":""}],theme:{url:"http://www.videogular.com/styles/themes/default/latest/videogular.css"},plugins:{poster:"/assets/images/angular.png"}};var l;c.bookmark=function(e){o.API.pause(),a.show({title:"Bookmark",content:"current time:"+e,ok:n,controller:"bookmarkController as BC",templateUrl:"app/watch/bookmark.dialog.html",locals:{currentTime:e},onComplete:c.bookmarkComplete})["finally"](function(e){t.log("bookmark?",e)})},o.wasFullScreen=!1,c.bookmarkComplete=function(){o.API.isFullScreen&&(o.wasFullScreen=!0,o.API.toggleFullScreen()),t.log("done"),$("#bookmarkDescription").focus()},$(document).keydown(function(e){66===e.which&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),t.log(e),c.bookmark(o.API.currentTime))})}]),angular.module("materialMedia").controller("bookmarkController",["$log","$scope","$rootScope","$mdDialog","$sce","$stateParams","currentTime","DataFactory",function(t,e,o,a,r,i,s,n){var c=this;c.currentTime=s,c.bookmark={},c.addBookmark=function(e){c.bookmark.time=e,o.userSettings.bookmarks[o.videoId].push(c.bookmark),n.setUserSettings(),t.log(o.bookmarks),a.hide(),o.wasFullScreen===!0&&(o.API.toggleFullScreen(),o.wasFullScreen=!1),o.API.play()}}]),angular.module("materialMedia").controller("MainCtrl",["$scope","$rootScope","$mdDialog","$sce","DataFactory",function(t,e,o,a,r){t.config={preload:"none",sources:[{src:a.trustAsResourceUrl("http://static.videogular.com/assets/videos/big_buck_bunny_720p_h264.mov"),type:"video/mp4"},{src:a.trustAsResourceUrl("http://static.videogular.com/assets/videos/big_buck_bunny_720p_stereo.ogg"),type:"video/ogg"}],tracks:[{src:"http://www.videogular.com/assets/subs/pale-blue-dot.vtt",kind:"subtitles",srclang:"en",label:"English","default":""}],theme:{url:"http://www.videogular.com/styles/themes/default/latest/videogular.css"}};var i;t.showDialog=function(){i=o.alert({title:"Attention",content:"This is an example of how easy dialogs can be!",ok:"Close"}),o.show(i)["finally"](function(){i=void 0})},r.Videos().then(function(t){e.videos=t})}]).directive("bookmarkButton",function(){return{restrict:"E",require:"^videogular",template:"<div class='iconButton' ng-click='WC.bookmark(currentTime)'><i class='fa fa-film'><md-tooltip>bookmark</md-tooltip></i></div>"}});/*!
 * SVG Morpheus v0.1.8
 * https://github.com/alexk111/SVG-Morpheus
 *
 * Copyright (c) 2014 Alex Kaul
 * License: MIT
 *
 * Generated at Tuesday, December 2nd, 2014, 11:12:16 AM
 */
var SVGMorpheus=function(){function t(t,e,o){var a,r={};for(a in t)switch(a){case"fill":case"stroke":r[a]=s(t[a]),r[a].r=t[a].r+(e[a].r-t[a].r)*o,r[a].g=t[a].g+(e[a].g-t[a].g)*o,r[a].b=t[a].b+(e[a].b-t[a].b)*o,r[a].opacity=t[a].opacity+(e[a].opacity-t[a].opacity)*o;break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":r[a]=t[a]+(e[a]-t[a])*o}return r}function e(t){var e,o={};for(e in t)switch(e){case"fill":case"stroke":o[e]=q(t[e]);break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":o[e]=t[e]}return o}function o(t,e){var o,a=[{},{}];for(o in t)switch(o){case"fill":case"stroke":a[0][o]=E(t[o]),void 0===e[o]&&(a[1][o]=E(t[o]),a[1][o].opacity=0);break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":a[0][o]=t[o],void 0===e[o]&&(a[1][o]=1)}for(o in e)switch(o){case"fill":case"stroke":a[1][o]=E(e[o]),void 0===t[o]&&(a[0][o]=E(e[o]),a[0][o].opacity=0);break;case"opacity":case"fill-opacity":case"stroke-opacity":case"stroke-width":a[1][o]=e[o],void 0===t[o]&&(a[0][o]=1)}return a}function a(t,e,o){var a={};for(var r in t)switch(r){case"rotate":a[r]=[0,0,0];for(var i=0;3>i;i++)a[r][i]=t[r][i]+(e[r][i]-t[r][i])*o}return a}function r(t){var e="";return t.rotate&&(e+="rotate("+t.rotate.join(" ")+")"),e}function i(t,e,o){for(var a=[],r=0,i=t.length;i>r;r++){a.push([t[r][0]]);for(var s=1,n=t[r].length;n>s;s++)a[r].push(t[r][s]+(e[r][s]-t[r][s])*o)}return a}function s(t){var e;if(t instanceof Array){e=[];for(var o=0,a=t.length;a>o;o++)e[o]=s(t[o]);return e}if(t instanceof Object){e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=s(t[r]));return e}return t}function n(t,e,o){if(!t)throw new Error('SVGMorpheus > "element" is required');if("string"==typeof t&&(t=document.querySelector(t),!t))throw new Error('SVGMorpheus > "element" query is not related to an existing DOM node');if(e&&typeof e!=typeof{})throw new Error('SVGMorpheus > "options" parameter must be an object');if(e=e||{},o&&"function"!=typeof o)throw new Error('SVGMorpheus > "callback" parameter must be a function');var a=this;this._icons={},this._curIconId=e.iconId||"",this._toIconId="",this._curIconItems=[],this._fromIconItems=[],this._toIconItems=[],this._morphNodes=[],this._morphG,this._startTime,this._defDuration=e.duration||750,this._defEasing=e.easing||"quad-in-out",this._defRotation=e.rotation||"clock",this._defCallback=o||function(){},this._duration=this._defDuration,this._easing=this._defEasing,this._rotation=this._defRotation,this._callback=this._defCallback,this._rafid,this._fnTick=function(t){a._startTime||(a._startTime=t);var e=Math.min((t-a._startTime)/a._duration,1);a._updateAnimationProgress(e),1>e?a._rafid=l(a._fnTick):a._animationEnd()},this._svgDoc="SVG"===t.nodeName.toUpperCase()?t:t.getSVGDocument(),this._svgDoc?a._init():t.addEventListener("load",function(){a._svgDoc=t.getSVGDocument(),a._init()},!1)}var c={};c["circ-in"]=function(t){return-1*(Math.sqrt(1-t*t)-1)},c["circ-out"]=function(t){return Math.sqrt(1-(t-=1)*t)},c["circ-in-out"]=function(t){return(t/=.5)<1?-0.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},c["cubic-in"]=function(t){return t*t*t},c["cubic-out"]=function(t){return--t*t*t+1},c["cubic-in-out"]=function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},c["elastic-in"]=function(t){var e=1.70158,o=0,a=1;if(0==t)return 0;if(1==t)return 1;if(o||(o=.3),a<Math.abs(1)){a=1;var e=o/4}else var e=o/(2*Math.PI)*Math.asin(1/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/o))},c["elastic-out"]=function(t){var e=1.70158,o=0,a=1;if(0==t)return 0;if(1==t)return 1;if(o||(o=.3),a<Math.abs(1)){a=1;var e=o/4}else var e=o/(2*Math.PI)*Math.asin(1/a);return a*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/o)+1},c["elastic-in-out"]=function(t){var e=1.70158,o=0,a=1;if(0==t)return 0;if(2==(t/=.5))return 1;if(o||(o=.3*1.5),a<Math.abs(1)){a=1;var e=o/4}else var e=o/(2*Math.PI)*Math.asin(1/a);return 1>t?-.5*a*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/o):a*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/o)*.5+1},c["expo-in"]=function(t){return 0==t?0:Math.pow(2,10*(t-1))},c["expo-out"]=function(t){return 1==t?1:1-Math.pow(2,-10*t)},c["expo-in-out"]=function(t){return 0==t?0:1==t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},c.linear=function(t){return t},c["quad-in"]=function(t){return t*t},c["quad-out"]=function(t){return t*(2-t)},c["quad-in-out"]=function(t){return.5>t?2*t*t:-1+(4-2*t)*t},c["quart-in"]=function(t){return t*t*t*t},c["quart-out"]=function(t){return 1- --t*t*t*t},c["quart-in-out"]=function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},c["quint-in"]=function(t){return t*t*t*t*t},c["quint-out"]=function(t){return 1+--t*t*t*t*t},c["quint-in-out"]=function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t},c["sine-in"]=function(t){return 1-Math.cos(t*(Math.PI/2))},c["sine-out"]=function(t){return Math.sin(t*(Math.PI/2))},c["sine-in-out"]=function(t){return.5*(1-Math.cos(Math.PI*t))};var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame,u=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame,h="	\n\f\r   ᠎             　\u2028\u2029",d=new RegExp("([a-z])["+h+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+h+"]*,?["+h+"]*)+)","ig"),m=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+h+"]*,?["+h+"]*","ig"),p=function(t){if(!t)return null;if(typeof t==typeof[])return t;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return String(t).replace(d,function(t,a,r){var i=[],s=a.toLowerCase();if(r.replace(m,function(t,e){e&&i.push(+e)}),"m"==s&&i.length>2&&(o.push([a].concat(i.splice(0,2))),s="l",a="m"==a?"l":"L"),"o"==s&&1==i.length&&o.push([a,i[0]]),"r"==s)o.push([a].concat(i));else for(;i.length>=e[s]&&(o.push([a].concat(i.splice(0,e[s]))),e[s]););}),o},g=function(t,e){for(var o=[],a=0,r=t.length;r-2*!e>a;a+=2){var i=[{x:+t[a-2],y:+t[a-1]},{x:+t[a],y:+t[a+1]},{x:+t[a+2],y:+t[a+3]},{x:+t[a+4],y:+t[a+5]}];e?a?r-4==a?i[3]={x:+t[0],y:+t[1]}:r-2==a&&(i[2]={x:+t[0],y:+t[1]},i[3]={x:+t[2],y:+t[3]}):i[0]={x:+t[r-2],y:+t[r-1]}:r-4==a?i[3]=i[2]:a||(i[0]={x:+t[a],y:+t[a+1]}),o.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return o},f=function(t,e,o,a,r){if(null==r&&null==a&&(a=o),t=+t,e=+e,o=+o,a=+a,null!=r)var i=Math.PI/180,s=t+o*Math.cos(-a*i),n=t+o*Math.cos(-r*i),c=e+o*Math.sin(-a*i),l=e+o*Math.sin(-r*i),u=[["M",s,c],["A",o,o,0,+(r-a>180),0,n,l]];else u=[["M",t,e],["m",0,-a],["a",o,a,0,1,1,0,2*a],["a",o,a,0,1,1,0,-2*a],["z"]];return u},v=function(t){if(t=p(t),!t||!t.length)return[["M",0,0]];var e,o=[],a=0,r=0,i=0,s=0,n=0;"M"==t[0][0]&&(a=+t[0][1],r=+t[0][2],i=a,s=r,n++,o[0]=["M",a,r]);for(var c,l,u=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),h=n,d=t.length;d>h;h++){if(o.push(c=[]),l=t[h],e=l[0],e!=e.toUpperCase())switch(c[0]=e.toUpperCase(),c[0]){case"A":c[1]=l[1],c[2]=l[2],c[3]=l[3],c[4]=l[4],c[5]=l[5],c[6]=+l[6]+a,c[7]=+l[7]+r;break;case"V":c[1]=+l[1]+r;break;case"H":c[1]=+l[1]+a;break;case"R":for(var m=[a,r].concat(l.slice(1)),v=2,y=m.length;y>v;v++)m[v]=+m[v]+a,m[++v]=+m[v]+r;o.pop(),o=o.concat(g(m,u));break;case"O":o.pop(),m=f(a,r,l[1],l[2]),m.push(m[0]),o=o.concat(m);break;case"U":o.pop(),o=o.concat(f(a,r,l[1],l[2],l[3])),c=["U"].concat(o[o.length-1].slice(-2));break;case"M":i=+l[1]+a,s=+l[2]+r;default:for(v=1,y=l.length;y>v;v++)c[v]=+l[v]+(v%2?a:r)}else if("R"==e)m=[a,r].concat(l.slice(1)),o.pop(),o=o.concat(g(m,u)),c=["R"].concat(l.slice(-2));else if("O"==e)o.pop(),m=f(a,r,l[1],l[2]),m.push(m[0]),o=o.concat(m);else if("U"==e)o.pop(),o=o.concat(f(a,r,l[1],l[2],l[3])),c=["U"].concat(o[o.length-1].slice(-2));else for(var b=0,I=l.length;I>b;b++)c[b]=l[b];if(e=e.toUpperCase(),"O"!=e)switch(c[0]){case"Z":a=+i,r=+s;break;case"H":a=c[1];break;case"V":r=c[1];break;case"M":i=c[c.length-2],s=c[c.length-1];default:a=c[c.length-2],r=c[c.length-1]}}return o},y=function(t,e,o,a){return[t,e,o,a,o,a]},b=function(t,e,o,a,r,i){var s=1/3,n=2/3;return[s*t+n*o,s*e+n*a,s*r+n*o,s*i+n*a,r,i]},I=function(t,e,o,a,r,i,s,n,c,l){var u,h=120*Math.PI/180,d=Math.PI/180*(+r||0),m=[],p=function(t,e,o){var a=t*Math.cos(o)-e*Math.sin(o),r=t*Math.sin(o)+e*Math.cos(o);return{x:a,y:r}};if(l)w=l[0],x=l[1],_=l[2],M=l[3];else{u=p(t,e,-d),t=u.x,e=u.y,u=p(n,c,-d),n=u.x,c=u.y;var g=(Math.cos(Math.PI/180*r),Math.sin(Math.PI/180*r),(t-n)/2),f=(e-c)/2,v=g*g/(o*o)+f*f/(a*a);v>1&&(v=Math.sqrt(v),o=v*o,a=v*a);var y=o*o,b=a*a,k=(i==s?-1:1)*Math.sqrt(Math.abs((y*b-y*f*f-b*g*g)/(y*f*f+b*g*g))),_=k*o*f/a+(t+n)/2,M=k*-a*g/o+(e+c)/2,w=Math.asin(((e-M)/a).toFixed(9)),x=Math.asin(((c-M)/a).toFixed(9));w=_>t?Math.PI-w:w,x=_>n?Math.PI-x:x,0>w&&(w=2*Math.PI+w),0>x&&(x=2*Math.PI+x),s&&w>x&&(w-=2*Math.PI),!s&&x>w&&(x-=2*Math.PI)}var C=x-w;if(Math.abs(C)>h){var A=x,P=n,S=c;x=w+h*(s&&x>w?1:-1),n=_+o*Math.cos(x),c=M+a*Math.sin(x),m=I(n,c,o,a,r,0,s,P,S,[x,A,_,M])}C=x-w;var F=Math.cos(w),q=Math.sin(w),N=Math.cos(x),$=Math.sin(x),D=Math.tan(C/4),T=4/3*o*D,E=4/3*a*D,U=[t,e],B=[t+T*q,e-E*F],R=[n+T*$,c-E*N],G=[n,c];if(B[0]=2*U[0]-B[0],B[1]=2*U[1]-B[1],l)return[B,R,G].concat(m);m=[B,R,G].concat(m).join().split(",");for(var L=[],V=0,z=m.length;z>V;V++)L[V]=V%2?p(m[V-1],m[V],d).y:p(m[V],m[V+1],d).x;return L},k=function(t,e){for(var o=v(t),a=e&&v(e),r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(t,e,o){var a,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(I.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==o||"S"==o?(a=2*e.x-e.bx,r=2*e.y-e.by):(a=e.x,r=e.y),t=["C",a,r].concat(t.slice(1));break;case"T":"Q"==o||"T"==o?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(b(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(b(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(y(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(y(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(y(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(y(e.x,e.y,e.X,e.Y))}return t}),n=function(t,e){if(t[e].length>7){t[e].shift();for(var r=t[e];r.length;)l[e]="A",a&&(u[e]="A"),t.splice(e++,0,["C"].concat(r.splice(0,6)));t.splice(e,1),p=Math.max(o.length,a&&a.length||0)}},c=function(t,e,r,i,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",i.x,i.y]),r.bx=0,r.by=0,r.x=t[s][1],r.y=t[s][2],p=Math.max(o.length,a&&a.length||0))},l=[],u=[],h="",d="",m=0,p=Math.max(o.length,a&&a.length||0);p>m;m++){o[m]&&(h=o[m][0]),"C"!=h&&(l[m]=h,m&&(d=l[m-1])),o[m]=s(o[m],r,d),"A"!=l[m]&&"C"==h&&(l[m]="C"),n(o,m),a&&(a[m]&&(h=a[m][0]),"C"!=h&&(u[m]=h,m&&(d=u[m-1])),a[m]=s(a[m],i,d),"A"!=u[m]&&"C"==h&&(u[m]="C"),n(a,m)),c(o,a,r,i,m),c(a,o,i,r,m);var g=o[m],f=a&&a[m],k=g.length,_=a&&f.length;r.x=g[k-2],r.y=g[k-1],r.bx=parseFloat(g[k-4])||r.x,r.by=parseFloat(g[k-3])||r.y,i.bx=a&&(parseFloat(f[_-4])||i.x),i.by=a&&(parseFloat(f[_-3])||i.y),i.x=a&&f[_-2],i.y=a&&f[_-1]}return a?[o,a]:o},_=function(t,e,o,a){return null==t&&(t=e=o=a=0),null==e&&(e=t.y,o=t.width,a=t.height,t=t.x),{x:t,y:e,w:o,h:a,cx:t+o/2,cy:e+a/2}},M=function(t,e,o,a,r,i,s,n){for(var c,l,u,h,d,m,p,g,f=[],v=[[],[]],y=0;2>y;++y)if(0==y?(l=6*t-12*o+6*r,c=-3*t+9*o-9*r+3*s,u=3*o-3*t):(l=6*e-12*a+6*i,c=-3*e+9*a-9*i+3*n,u=3*a-3*e),Math.abs(c)<1e-12){if(Math.abs(l)<1e-12)continue;h=-u/l,h>0&&1>h&&f.push(h)}else p=l*l-4*u*c,g=Math.sqrt(p),0>p||(d=(-l+g)/(2*c),d>0&&1>d&&f.push(d),m=(-l-g)/(2*c),m>0&&1>m&&f.push(m));for(var b,I=f.length,k=I;I--;)h=f[I],b=1-h,v[0][I]=b*b*b*t+3*b*b*h*o+3*b*h*h*r+h*h*h*s,v[1][I]=b*b*b*e+3*b*b*h*a+3*b*h*h*i+h*h*h*n;return v[0][k]=t,v[1][k]=e,v[0][k+1]=s,v[1][k+1]=n,v[0].length=v[1].length=k+2,{min:{x:Math.min.apply(0,v[0]),y:Math.min.apply(0,v[1])},max:{x:Math.max.apply(0,v[0]),y:Math.max.apply(0,v[1])}}},w=function(t){for(var e,o=0,a=0,r=[],i=[],s=0,n=t.length;n>s;s++)if(e=t[s],"M"==e[0])o=e[1],a=e[2],r.push(o),i.push(a);else{var c=M(o,a,e[1],e[2],e[3],e[4],e[5],e[6]);r=r.concat(c.min.x,c.max.x),i=i.concat(c.min.y,c.max.y),o=e[5],a=e[6]}var l=Math.min.apply(0,r),u=Math.min.apply(0,i),h=Math.max.apply(0,r),d=Math.max.apply(0,i),m=_(l,u,h-l,d-u);return m},x=/,?([a-z]),?/gi,C=function(t){return t.join(",").replace(x,"$1")},A={hs:1,rg:1},P="hasOwnProperty",S=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,F=new RegExp("["+h+"]*,["+h+"]*"),q=function(t){var e=Math.round;return"rgba("+[e(t.r),e(t.g),e(t.b),+t.opacity.toFixed(2)]+")"},N=function(t){var e=window.document.getElementsByTagName("head")[0]||window.document.getElementsByTagName("svg")[0],o="rgb(255, 0, 0)";return(N=function(t){if("red"==t.toLowerCase())return o;e.style.color=o,e.style.color=t;var a=window.document.defaultView.getComputedStyle(e,"").getPropertyValue("color");return a==o?null:a})(t)},$=function(t,e,o,a){t=Math.round(255*t),e=Math.round(255*e),o=Math.round(255*o);var r={r:t,g:e,b:o,opacity:isFinite(a)?a:1};return r},D=function(t,e,o,a){typeof t==typeof{}&&"h"in t&&"s"in t&&"b"in t&&(o=t.b,e=t.s,t=t.h,a=t.o),t*=360;var r,i,s,n,c;return t=t%360/60,c=o*e,n=c*(1-Math.abs(t%2-1)),r=i=s=o-c,t=~~t,r+=[c,n,0,0,n,c][t],i+=[n,c,c,n,0,0][t],s+=[0,0,n,c,c,n][t],$(r,i,s,a)},T=function(t,e,o,a){typeof t==typeof{}&&"h"in t&&"s"in t&&"l"in t&&(o=t.l,e=t.s,t=t.h),(t>1||e>1||o>1)&&(t/=360,e/=100,o/=100),t*=360;var r,i,s,n,c;return t=t%360/60,c=2*e*(.5>o?o:1-o),n=c*(1-Math.abs(t%2-1)),r=i=s=o-c/2,t=~~t,r+=[c,n,0,0,n,c][t],i+=[n,c,c,n,0,0][t],s+=[0,0,n,c,c,n][t],$(r,i,s,a)},E=function(t){if(!t||(t=String(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,opacity:-1,error:1};if("none"==t)return{r:-1,g:-1,b:-1,opacity:-1};if(!(A[P](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=N(t)),!t)return{r:-1,g:-1,b:-1,opacity:-1,error:1};var e,o,a,r,i,s,n=t.match(S);return n?(n[2]&&(a=parseInt(n[2].substring(5),16),o=parseInt(n[2].substring(3,5),16),e=parseInt(n[2].substring(1,3),16)),n[3]&&(a=parseInt((i=n[3].charAt(3))+i,16),o=parseInt((i=n[3].charAt(2))+i,16),e=parseInt((i=n[3].charAt(1))+i,16)),n[4]&&(s=n[4].split(F),e=parseFloat(s[0]),"%"==s[0].slice(-1)&&(e*=2.55),o=parseFloat(s[1]),"%"==s[1].slice(-1)&&(o*=2.55),a=parseFloat(s[2]),"%"==s[2].slice(-1)&&(a*=2.55),"rgba"==n[1].toLowerCase().slice(0,4)&&(r=parseFloat(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100)),n[5]?(s=n[5].split(F),e=parseFloat(s[0]),"%"==s[0].slice(-1)&&(e/=100),o=parseFloat(s[1]),"%"==s[1].slice(-1)&&(o/=100),a=parseFloat(s[2]),"%"==s[2].slice(-1)&&(a/=100),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(e/=360),"hsba"==n[1].toLowerCase().slice(0,4)&&(r=parseFloat(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100),D(e,o,a,r)):n[6]?(s=n[6].split(F),e=parseFloat(s[0]),"%"==s[0].slice(-1)&&(e/=100),o=parseFloat(s[1]),"%"==s[1].slice(-1)&&(o/=100),a=parseFloat(s[2]),"%"==s[2].slice(-1)&&(a/=100),("deg"==s[0].slice(-3)||"°"==s[0].slice(-1))&&(e/=360),"hsla"==n[1].toLowerCase().slice(0,4)&&(r=parseFloat(s[3])),s[3]&&"%"==s[3].slice(-1)&&(r/=100),T(e,o,a,r)):(e=Math.min(Math.round(e),255),o=Math.min(Math.round(o),255),a=Math.min(Math.round(a),255),r=Math.min(Math.max(r,0),1),n={r:e,g:o,b:a},n.opacity=isFinite(r)?r:1,n)):{r:-1,g:-1,b:-1,opacity:-1,error:1}};return n.prototype._init=function(){if("SVG"!==this._svgDoc.nodeName.toUpperCase()&&(this._svgDoc=this._svgDoc.getElementsByTagName("svg")[0]),this._svgDoc){var t,e,o,a,r,i,s,n,c="";for(t=this._svgDoc.childNodes.length-1;t>=0;t--){var l=this._svgDoc.childNodes[t];if("G"===l.nodeName.toUpperCase()&&(o=l.getAttribute("id"))){for(a=[],i=0,s=l.childNodes.length;s>i;i++){var u=l.childNodes[i];switch(r={path:"",attrs:{},style:{}},u.nodeName.toUpperCase()){case"PATH":r.path=u.getAttribute("d");break;case"CIRCLE":var h=1*u.getAttribute("cx"),d=1*u.getAttribute("cy"),m=1*u.getAttribute("r");r.path="M"+(h-m)+","+d+"a"+m+","+m+" 0 1,0 "+2*m+",0a"+m+","+m+" 0 1,0 -"+2*m+",0z";break;case"ELLIPSE":var h=1*u.getAttribute("cx"),d=1*u.getAttribute("cy"),p=1*u.getAttribute("rx"),g=1*u.getAttribute("ry");r.path="M"+(h-p)+","+d+"a"+p+","+g+" 0 1,0 "+2*p+",0a"+p+","+g+" 0 1,0 -"+2*p+",0z";break;case"RECT":var f=1*u.getAttribute("x"),v=1*u.getAttribute("y"),y=1*u.getAttribute("width"),b=1*u.getAttribute("height"),p=1*u.getAttribute("rx"),g=1*u.getAttribute("ry");r.path=p||g?"M"+(f+p)+","+v+"l"+(y-2*p)+",0a"+p+","+g+" 0 0,1 "+p+","+g+"l0,"+(b-2*g)+"a"+p+","+g+" 0 0,1 -"+p+","+g+"l"+(2*p-y)+",0a"+p+","+g+" 0 0,1 -"+p+",-"+g+"l0,"+(2*g-b)+"a"+p+","+g+" 0 0,1 "+p+",-"+g+"z":"M"+f+","+v+"l"+y+",0l0,"+b+"l-"+y+",0z";break;case"POLYGON":for(var I=u.getAttribute("points"),k=I.split(/\s+/),_="",M=0,e=k.length;e>M;M++)_+=(M&&"L"||"M")+k[M];r.path=_+"z";break;case"LINE":var w=1*u.getAttribute("x1"),x=1*u.getAttribute("y1"),C=1*u.getAttribute("x2"),A=1*u.getAttribute("y2");r.path="M"+w+","+x+"L"+C+","+A+"z"}if(""!=r.path){for(var M=0,P=u.attributes.length;P>M;M++){var S=u.attributes[M];if(S.specified){var F=S.name.toLowerCase();switch(F){case"fill":case"fill-opacity":case"opacity":case"stroke":case"stroke-opacity":case"stroke-width":r.attrs[F]=S.value}}}for(var q=0,N=u.style.length;N>q;q++){var $=u.style[q];switch($){case"fill":case"fill-opacity":case"opacity":case"stroke":case"stroke-opacity":case"stroke-width":r.style[$]=u.style[$]}}a.push(r)}}a.length>0&&(n={id:o,items:a},this._icons[o]=n),this._morphG?this._svgDoc.removeChild(l):(c=o,this._morphG=document.createElementNS("http://www.w3.org/2000/svg","g"),this._svgDoc.replaceChild(this._morphG,l))}}""!==c&&(this._setupAnimation(c),this._updateAnimationProgress(1),this._animationEnd())}},n.prototype._setupAnimation=function(t){if(t&&this._icons[t]){this._toIconId=t,this._startTime=void 0;var a,r;for(this._fromIconItems=s(this._curIconItems),this._toIconItems=s(this._icons[t].items),a=0,r=this._morphNodes.length;r>a;a++){var i=this._morphNodes[a];i.fromIconItemIdx=a,i.toIconItemIdx=a}var n,c=Math.max(this._fromIconItems.length,this._toIconItems.length);for(a=0;c>a;a++)if(this._fromIconItems[a]||(this._toIconItems[a]?(n=w(k(this._toIconItems[a].path)),this._fromIconItems.push({path:"M"+n.cx+","+n.cy+"l0,0",attrs:{},style:{},trans:{rotate:[0,n.cx,n.cy]}})):this._fromIconItems.push({path:"M0,0l0,0",attrs:{},style:{},trans:{rotate:[0,0,0]}})),this._toIconItems[a]||(this._fromIconItems[a]?(n=w(k(this._fromIconItems[a].path)),this._toIconItems.push({path:"M"+n.cx+","+n.cy+"l0,0",attrs:{},style:{},trans:{rotate:[0,n.cx,n.cy]}})):this._toIconItems.push({path:"M0,0l0,0",attrs:{},style:{},trans:{rotate:[0,0,0]}})),!this._morphNodes[a]){var l=document.createElementNS("http://www.w3.org/2000/svg","path");this._morphG.appendChild(l),this._morphNodes.push({node:l,fromIconItemIdx:a,toIconItemIdx:a})}for(a=0;c>a;a++){var u=this._fromIconItems[a],h=this._toIconItems[a],d=k(this._fromIconItems[a].path,this._toIconItems[a].path);u.curve=d[0],h.curve=d[1];var m=o(this._fromIconItems[a].attrs,this._toIconItems[a].attrs);u.attrsNorm=m[0],h.attrsNorm=m[1],u.attrs=e(u.attrsNorm),h.attrs=e(h.attrsNorm);var p=o(this._fromIconItems[a].style,this._toIconItems[a].style);u.styleNorm=p[0],h.styleNorm=p[1],u.style=e(u.styleNorm),h.style=e(h.styleNorm),n=w(h.curve),h.trans={rotate:[0,n.cx,n.cy]};var g,f=this._rotation;switch("random"===f&&(f=Math.random()<.5?"counterclock":"clock"),f){case"none":u.trans.rotate&&(h.trans.rotate[0]=u.trans.rotate[0]);break;case"counterclock":u.trans.rotate?(h.trans.rotate[0]=u.trans.rotate[0]-360,g=-u.trans.rotate[0]%360,h.trans.rotate[0]+=180>g?g:g-360):h.trans.rotate[0]=-360;break;default:u.trans.rotate?(h.trans.rotate[0]=u.trans.rotate[0]+360,g=u.trans.rotate[0]%360,h.trans.rotate[0]+=180>g?-g:360-g):h.trans.rotate[0]=360}}this._curIconItems=s(this._fromIconItems)}},n.prototype._updateAnimationProgress=function(o){o=c[this._easing](o);var s,n,l,u;for(s=0,u=this._curIconItems.length;u>s;s++)this._curIconItems[s].curve=i(this._fromIconItems[s].curve,this._toIconItems[s].curve,o),this._curIconItems[s].path=C(this._curIconItems[s].curve),this._curIconItems[s].attrsNorm=t(this._fromIconItems[s].attrsNorm,this._toIconItems[s].attrsNorm,o),this._curIconItems[s].attrs=e(this._curIconItems[s].attrsNorm),this._curIconItems[s].styleNorm=t(this._fromIconItems[s].styleNorm,this._toIconItems[s].styleNorm,o),this._curIconItems[s].style=e(this._curIconItems[s].styleNorm),this._curIconItems[s].trans=a(this._fromIconItems[s].trans,this._toIconItems[s].trans,o),this._curIconItems[s].transStr=r(this._curIconItems[s].trans);for(s=0,u=this._morphNodes.length;u>s;s++){var h=this._morphNodes[s];h.node.setAttribute("d",this._curIconItems[s].path);var d=this._curIconItems[s].attrs;for(n in d)h.node.setAttribute(n,d[n]);var m=this._curIconItems[s].style;for(l in m)h.node.style[l]=m[l];h.node.setAttribute("transform",this._curIconItems[s].transStr)}},n.prototype._animationEnd=function(){for(var t=this._morphNodes.length-1;t>=0;t--){var e=this._morphNodes[t];this._icons[this._toIconId].items[t]?e.node.setAttribute("d",this._icons[this._toIconId].items[t].path):(e.node.parentNode.removeChild(e.node),this._morphNodes.splice(t,1))}this._curIconId=this._toIconId,this._toIconId="",this._callback()},n.prototype.to=function(t,e,o){if(t!==this._toIconId){if(e&&typeof e!=typeof{})throw new Error('SVGMorpheus.to() > "options" parameter must be an object');if(e=e||{},o&&"function"!=typeof o)throw new Error('SVGMorpheus.to() > "callback" parameter must be a function');u(this._rafid),this._duration=e.duration||this._defDuration,this._easing=e.easing||this._defEasing,this._rotation=e.rotation||this._defRotation,this._callback=o||this._defCallback,this._setupAnimation(t),this._rafid=l(this._fnTick)}},n}();angular.module("materialMedia").run(["$templateCache",function(t){t.put("app/main/main.html",'<div layout="row" layout-fill=""><md-list layout-fill="" layout-padding=""><md-item ng-repeat="video in videos"><md-item-content layout-padding=""><div class="md-tile-left clickable" ui-sref="watch({ videoId : video.id})"><img ng-src="assets/images/{{video.logo}}" alt="{{video.title}}" class="face"><md-tooltip>Watch video</md-tooltip></div><div class="md-tile-content clickable" ui-sref="watch({ videoId : video.title})" layout-padding=""><h3 ui-sref="watch({ videoId : video.title})">{{video.title}}</h3><h4>{{video.url}}</h4><p>{{video.description}}</p><md-tooltip md-direction="left">Watch video</md-tooltip></div><div class="md-tile-right" layout-padding=""><md-button class="md-fab md-primary md-hue-3" aria-label="Profile" ng-click="video.fave = !video.fave"><i class="fa fa-2x" style="color:pink;" ng-class="{\'fa-heart\':video.fave,\'fa-heart-o\':!video.fave}"></i><md-tooltip md-direction="left">Make favorite</md-tooltip></md-button></div></md-item-content><md-divider inset=""></md-divider></md-item></md-list></div>'),t.put("app/watch/bookmark.dialog.html",'<md-dialog><md-content><i class="fa fa-film fa-2x">{{ BC.currentTime | date:\'mm:ss\' }} {{BC.bookmark.description}}</i></md-content><div class="md-actions"><md-input-container><label>Description</label> <input id="bookmarkDescription" type="textarea" ng-model="BC.bookmark.description"></md-input-container><md-button class="md-hue-2" ng-click="BC.addBookmark(BC.currentTime)">Bookmark</md-button></div></md-dialog>'),t.put("app/watch/watch.html",'<div layout="row"><div layout-gt-md="row" layout-lt-md="column" layout-md="column" layout-margin="" layout-fill="" layout-padding=""><div class="videogular-container" layout-fill="" flex-order-sm="1" flex-order-md="1" flex-order-lt-md="1" flex-order-gt-md="2"><videogular vg-theme="WC.config.theme.url" vg-player-ready="WC.onPlayerReady($API)"><vg-media vg-src="WC.config.sources" vg-tracks="WC.config.tracks" vg-native-controls="false"></vg-media><vg-controls><vg-play-pause-button></vg-play-pause-button><vg-time-display>{{ currentTime | date:\'mm:ss\' }}</vg-time-display><vg-scrub-bar><vg-scrub-bar-current-time></vg-scrub-bar-current-time></vg-scrub-bar><vg-time-display>{{ timeLeft | date:\'mm:ss\' }}</vg-time-display><vg-time-display>{{ totalTime | date:\'mm:ss\' }}</vg-time-display><vg-volume><vg-mute-button></vg-mute-button><vg-volume-bar></vg-volume-bar></vg-volume><vg-fullscreen-button></vg-fullscreen-button><bookmark-button></bookmark-button></vg-controls><vg-overlay-play></vg-overlay-play><vg-poster vg-url="WC.config.plugins.poster"></vg-poster></videogular><md-checkbox ng-model="isChecked" aria-label="Finished?">Finished ?</md-checkbox></div><div flex="20" flex-order-sm="2" flex-order-md="2" flex-order-gt-md="1" ng-show="bookmarks.length > 0"><md-list><md-item ng-repeat="bookmark in bookmarks | orderBy:time" layout-fill="" ng-animate="\'animate\'" class="bookmark"><md-item-content style="padding:5px;"><div layout="row" class="md-tile-left clickable" layout-padding=""><div layout="column" layout-padding=""><i class="fa fa-film fa-4x" style="color:#8BC34A;" ng-click="API.seekTime(bookmark.time/1000)"></i></div><div layout="column" layout-padding=""><div layout="row" ng-click="API.seekTime(bookmark.time/1000)">{{bookmark.time| date:\'mm:ss\' }}</div><div layout="row" contenteditable=""><input type="text" ng-model="bookmark.description" ng-change="WC.onBookmarkChange()"></div><div layout="row" contenteditable=""><i class="fa fa-trash" ng-click="WC.deleteBookmark($index)"></i></div></div></div></md-item-content><md-divider inset=""></md-divider></md-item></md-list></div></div></div>'),t.put("components/navbar/navbar.html","<pre>foobar</pre>")}]);